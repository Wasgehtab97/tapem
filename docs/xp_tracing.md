# XP Tracing

This project includes a lightweight tracing helper to follow XP credit flows end-to-end.
Tracing logs are only emitted in debug builds and use the prefix `XP/`.

## Trace ID
A trace ID ties together all stages:
```
{dayKey}:{uid.suffix4}:{deviceId.suffix4}:{sessionId.suffix4}
```

## Example flows

### Credited
```
XP/SAVE_START gymId=... uid=... traceId=...
XP/LOGS_STORED sessionId=... sets=N traceId=...
XP/CALL_ADD_SESSION_XP intent traceId=...
XP/PROVIDER_IN ... traceId=...
XP/FS_IN ... traceId=...
XP/TXN_READ ... traceId=...
XP/TXN_DECISION result=permitCredit ... traceId=...
XP/TXN_WRITE deltaXp=50 ... traceId=...
XP/PROVIDER_OUT result=credited deltaXp=50 traceId=...
XP/CACHE_BUMP deviceId=... newXp=... traceId=...
```

### Skipped
```
XP/SKIP reason=noDevice traceId=...
```

### Permission denied
```
XP/TXN_ERROR code=permission-denied path=... traceId=...
```
